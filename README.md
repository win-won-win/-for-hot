# 日勤夜勤給与計算ツール

## 概要
日勤と夜勤の2パターンの給与計算を行うWebアプリケーションです。
CSVファイルをアップロードして給与計算を行い、結果をCSVでダウンロードできます。

## 機能
- 初期CSVテンプレートのダウンロード
- 勤怠CSVファイルのアップロード
- 日勤・夜勤の給与計算
- 計算結果の表示
- 計算結果CSVのダウンロード

## 給与計算ロジック

### 日勤パターン
- 基本給: 勤務時間 × 1,300円
- 処遇改善加算手当: 勤務時間 × 1,200円 × (規定の％/100)

### 夜勤パターン
- 基本給: 勤務時間 × 1,200円
- 夜勤手当: 3,000円（固定額）
- 深夜手当: 1,800円（固定額）
- 残業手当: (勤務時間 - 8) × 1,200円 × 0.25
- 処遇改善加算手当: 勤務時間 × 1,200円 × (規定の％/100)

## 技術スタック
- フロントエンド: Python Streamlit
- バックエンド: Python
- デプロイ: Streamlit Community Cloud

## ローカル環境での実行方法

### 必要な環境
- Python 3.8以上

### セットアップ
1. リポジトリをクローン
```bash
git clone <repository-url>
cd 日勤夜勤給与計算ツール
```

2. 依存関係をインストール
```bash
pip install -r requirements.txt
```

3. アプリケーションを起動
```bash
streamlit run app.py
```

4. ブラウザで http://localhost:8501 にアクセス

## 使用方法

1. **初期CSVテンプレートをダウンロード**
   - 「初期CSVテンプレートをダウンロード」ボタンをクリック
   - ダウンロードしたCSVファイルに勤怠データを入力

2. **勤怠データの入力**
   - CSVファイルに以下の情報を入力：
     - 日勤 or 夜勤
     - 従業員名
     - 処遇改善加算％
     - 勤務開始時間
     - 勤務終了時間

3. **CSVファイルのアップロード**
   - 入力済みのCSVファイルをアップロード

4. **給与計算の実行**
   - 「給与計算を実行」ボタンをクリック
   - 計算結果が画面に表示される

5. **結果のダウンロード**
   - 「計算結果CSVをダウンロード」ボタンで結果をダウンロード

## CSVファイル形式

### 入力CSVの例
```csv
日勤 or 夜勤,従業員名,処遇改善加算％,勤務開始時間,勤務終了時間,基本給,夜勤手当,深夜手当,残業手当,処遇改善加算手当,日当
夜勤,山田 太郎,18,18:00,32:29,,,,,,,
日勤,佐藤 花子,15,09:00,18:00,,,,,,,
```

### 出力CSVの例
```csv
日勤 or 夜勤,従業員名,処遇改善加算％,勤務開始時間,勤務終了時間,基本給,夜勤手当,深夜手当,残業手当,処遇改善加算手当,日当,勤務時間
夜勤,山田 太郎,18,18:00,32:29,16224,3000,1800,1644,2920,25588,13.48
日勤,佐藤 花子,15,09:00,18:00,11700,0,0,0,1620,13320,9.0
```

## デプロイ

### Streamlit Community Cloudでのデプロイ
1. GitHubリポジトリにプッシュ
2. [Streamlit Community Cloud](https://share.streamlit.io/)にアクセス
3. GitHubアカウントでログイン
4. 「New app」をクリック
5. リポジトリとブランチを選択
6. メインファイルパス: `app.py`
7. 「Deploy!」をクリック

### 必要なファイル
- `app.py`: メインのStreamlitアプリケーション
- `requirements.txt`: 依存関係の定義

## ライセンス
MIT License